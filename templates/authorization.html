<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h2>Авторизация</h2>
    {% for cat, msg in get_flashed_messages(True) %}
    <div class="flash {{ cat }}">{{ msg }}</div>
    {% endfor %}
    <form name="authorization" method="post">
        {{ form.csrf_token() }}
        <script>
            function isPhone() {
                var contact_data = document.getElementById("contact");
                var change_email = document.getElementById("change_on_email");
                var change_phone = document.getElementById("change_on_phone");
                contact_data.innerHTML = '{{ form.phone.label }}\n' +
                 '       {{ form.phone(class="form-control") }}\n' +
                '        {% for error in form.phone.errors %}\n' +
                '            <h3>{{ error }}</h3>\n' +
                '        {% endfor %}';
                change_email.style.display = '';
                change_phone.style.display = 'none';
            }
            function isEmail() {
                var contact_data = document.getElementById("contact");
                var change_email = document.getElementById("change_on_email");
                var change_phone = document.getElementById("change_on_phone");
                contact_data.innerHTML = '{{ form.email.label }}\n' +
                 '       {{ form.email(class="form-control") }}\n' +
                '        {% for error in form.email.errors %}\n' +
                '            <h3>{{ error }}</h3>\n' +
                '        {% endfor %}';
                change_email.style.display = 'none';
                change_phone.style.display = '';
            }
        </script>
        <span onclick="isPhone()" id="change_on_phone">Войти по номеру телефона</span>
        <span onclick="isEmail()" id="change_on_email" style="display: none">Войти по e-mail</span>
        <div class="row" id="contact">
        {{ form.email.label }}
        {{ form.email(class="form-control") }}
        {% for error in form.email.errors %}
            <h3>{{ error }}</h3>
        {% endfor %}
        </div>
        <div class="row">
        {{ form.password.label }}
        {{ form.password(class="form-control") }}
        {% for error in form.password.errors %}
            <h3>{{ error }}</h3>
        {% endfor %}
        </div>
        <p><input type="checkbox" name="remainme">Запомнить меня</p>
        <div class="row">
            {{ form.submit(class="btn btn-primary") }}
        </div>
    </form>
</body>
</html>